<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

	<mapper namespace="com.itwillbs.mapper.adminMapper">
	
		<!--  회원가입 -->	
		<insert id="adminJoin" >
			insert into admin (admin_id, admin_pwd, admin_nick, admin_phone, admin_email, admin_birth, 
			admin_cre_date, admin_info_agree, admin_status)
			values(#{admin_id},#{admin_pwd},#{admin_nick},#{admin_phone},#{admin_email},#{admin_birth},
			#{admin_cre_date},#{admin_info_agree},#{admin_status})
		</insert>
		
		<!-- 로그인  -->
		<select id="adminLoginCheck" resultType="com.itwillbs.domain.AdminDTO">
			select * from admin
			where user_id=#{admin_id} and user_pwd=#{admin_pwd}
		</select>
		<!--  로그인 체크 -->
	
		
		<!-- 공지사항 작성 -->
		<insert id="noticeJoin">
			insert into notice_board (admin_id, notice_sub, notice_cont, notice_cre_date, photo_url, notice_del_at)
			values (#{admin_id}, #{notice_sub}, #{notice_cont}, now(), #{photo_url}, 'N')
		</insert>
		
		<!-- 경기일정 등록 -->
		<insert id="scheduleJoin">
			insert into game_schedule (game_date, game_time, stad_id, home_team_id, away_team_id)
			values (#{game_date}, #{game_time}, (select stad_id from team_n_stadium where team_id = #{home_team_id}), #{home_team_id}, #{away_team_id})
		</insert>
		
		
	</mapper>
